<!DOCTYPE html>
<html lang="en" style="margin: 0; height:100%">
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Bug Database Project</title>
        <link rel="stylesheet" href="Styling/viewBug.css">
        <link rel="stylesheet" href="../bootstrap-5.0.2-dist/css/bootstrap.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body id="body" style="background: radial-gradient(#c51b1b, #8d402f); background-size:cover; margin: 0; height:100%;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active ms-4 me-3">
              <a class="nav-link btn-outline-primary px-5" href="main.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link btn-outline-info px-5" href="#">Graph</a>
            </li>
          </ul>
        </div>
      </nav>
    <div class="header" style="width:100%; height: 100px; background-color: maroon; margin-bottom: 20px;">
        <h1 class="text-bold text-white text-uppercase" style="text-align:center; top:25%; position: relative; font-weight: bolder;">Bug #<span id="bug-number-display">[ID]</span> <span style="font-size:large; position:static; top:20px; right:50px" id="resolved"> Resolved<i class="bi bi-check2-circle"></i></span></h1>
    </div>
    <!-- <script>
        $(document).ready(function() {
            GenerateCommentBlocks();
        });

        function GenerateCommentBlocks(){
            console.log("Generating comments...");
            let bug_number = localStorage.getItem("bug_number");
            console.log(bug_number);
            $.ajax({
                async: false,
                cache: false,
                type: "GET",
                url: "../Scripts/php/getComments.php",
                data: {bug_number: bug_number}
            }).done(function ( response ){
                console.log(response);
                let first = true;
                response.forEach(element => {
                    
                    let title = element.title;
                    let details = element.details;
                    let contributor_name = element.contributor_name;
                    let date_added = element.date_added;
                    
                    if (first){
                        document.getElementById("body")
                        .innerHTML +=
                        ` <div class="container bug-description-block" style="margin-top:80px; display:flex-box; width:70%; background-color: lightsalmon; padding: 80px; border: 4px solid black; border-radius: 30px;">
                            <div class="bug-description">
                                <h2 class="text-dark" style="font-weight:700">${title}</h2>
                            </div>
                            <br>
                            <div class="bug-description">
                                <h3 class="text-dark">Details:</h3>
                                <p style="color: darkred;">${details}</p>
                            </div><br><br>
                            <div class="buttons" style="display:flex; width:70%; margin:auto">
                                <button class="btn-outline-success" id="resolve-btn" style="width:250px; height:50px; margin: 0 auto">Resolve</button><br><br>
                                <button class="btn-outline-primary" id="add-activity-btn" style="width:250px; height:50px; margin: 0 auto">Add Activity</button>
                            </div>
                        </div>`
                        first = false;
                    }

                    else{
                        document.getElementById("body")
                        .innerHTML +=
                        `<div class="container contribution-block p-4 w-70">
                            <h3 class="text-dark" style="font-weight:800; font-size: 40px;">${title} - ${date_added}</h3>
                            <h4 class="text-dark">${contributor_name}</h4>
                            <p>${details}</p>
                        </div>`
                    }
                    document.getElementById("body")
                        .innerHTML += `<br>`
                });
            })
        }
    </script> -->
    <script src="../Scripts/js/getCommentsForBug.js"></script>
</body>
</html>